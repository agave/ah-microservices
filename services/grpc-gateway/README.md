# GRPC Gateway

## Description
TODO

## Code Generation
When first cloning this project, you'll need to generate relevant Go code to manipulate the services defined in the protofiles used. This is achieved as follows:

* Install [Google's protocbuf](https://github.com/google/protobuf) project in your development system. Whether [compiled](https://github.com/google/protobuf/blob/master/src/README.md) or through a [binary release](https://github.com/google/protobuf/releases) is completely up to you, just make sure you compile a stable release's source code and not from master ;).
* If installing from a binary, don't forget to copy the relevant include folder to the right place.
* Then within ./grpc-gateway run:
* `make proto api_endpoints_path=<path-to-api-protos>`
* `<path-to-api-protos>` will in most cases be something like `../core/protos/api`.
* And that's it! You should have fresh `.pb.go` files in your development environment.

(Note: Do not edit or commit autogenerated code since it's prone to change and rebuilt constantly by the CI service.)

## Dev Mode
In most cases, the project needs to run within a Docker container in order to connect to microservices since these are linked on container startup. This used to be a hassle since rebuilding the container image was required to make changes to the API code. Thanks to [this live reload tool](https://github.com/codegangsta/gin) that is not an issue anymore. Just follow the instructions on [the project's README](/README.md) and make sure to check out both the scripts folder and docker-compose YAML files. These will mount your local grpc-gateway folder as a Docker volume and provide Gin with instructions as to how to handle filesystem changes.

## Project Dependencies
While building the Docker image, make sure to locally export an environment variable named GITHUB_TOKEN with a valid API Token generated on Github. This is mainly so that [gpm](https://github.com/pote/gpm) is able to pull project dependecies from private repos.

## Testing
TODO actual tests & docs

## Editor Stuff
### Atom
go-plus will make your life easier. To ignore generated code pass the following arguments to gometalinter:
`--exclude=pb.go, --vendor, --disable-all, --enable=vet, --enable=vetshadow, --enable=golint, --enable=ineffassign, --enable=goconst, --tests, --json, .
`.
### Sublime
[GoSublime](https://github.com/DisposaBoy/GoSublime)
[GoMetalinter](https://github.com/alecthomas/gometalinter)
